con min(list, n) { all:
  size >= n;
}

con max(list, n) { all:
  size <= n;
}

con range(list, a, b) { all:
  size >= a;
  size <= b;
}

con const(list, n) { all:
  size == n;
}

fun first(node, kind) {
  for child in where(node, kind) {
    return child;
  }

  fail "no child of kind: " .. str(kind);
}

fun extend(list, other) {
  var buffer = list;

  for item in other {
    buffer = item : buffer;
  }

  return buffer;
}
